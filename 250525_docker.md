
# Dockerはじめてガイド：Mac/Windows/Ubuntu対応 初心者向けセットアップ＆基本操作まとめ

# 🚀 はじめに

この記事では、これからDockerを使って開発を始めたい方向けに、

- OS別インストール方法
- Dockerfileやdocker-composeの記述方法
- 画像・コンテナ操作の基本と応用
- コンテナ開発環境の整備（VS Code連携）
- Docker Hubでの公開・共有方法

などを**一気通貫で解説**します。  
最初はこれを覚えておけば問題ないです。

# 🧭 目次

## 初級編
1. 🛠 Dockerのインストール & 初期設定
2. 🧾 Dockerfile / .dockerignore / docker-compose.yml の書き方
3. 📦 イメージの基本操作
4. 🚢 コンテナの基本操作
5. 🧑‍💻 VS Codeでのコンテナ開発

## 応用編
6. 🔧 Git/GitHub連携と環境構築
7. 🏷 イメージのタグ操作と保存・読み込み
8. ☁️ Docker Hubへのアップロードと管理

# 🛠 1. Dockerのインストール & 初期設定

## 🍎 Mac
- [Docker Desktop for Mac](https://www.docker.com/products/docker-desktop/) をダウンロード＆インストール

## 🪟 Windows
- WSL2の有効化 & Docker Desktopインストール  
  公式ガイド: [Windowsでのセットアップ](https://docs.docker.com/desktop/install/windows-install/)

## 🐧 Ubuntu
```bash
sudo apt update
sudo apt install docker.io -y
sudo systemctl enable --now docker
```

ユーザを`docker`グループに追加（sudo不要化）:
```bash
sudo usermod -aG docker $USER
newgrp docker
```

Docker起動確認：
```bash
docker --version
docker run hello-world
```

# 🧾 2. Dockerfile / .dockerignore / docker-compose.yml の書き方

## 🔨 Dockerfileの基本構成
```Dockerfile
FROM ubuntu:22.04
RUN apt update && apt install -y python3
COPY . /app
WORKDIR /app
CMD ["python3", "main.py"]
```

## 🙈 .dockerignore の記述例
```dockerignore
__pycache__/
*.log
*.env
```

## 🧩 docker-compose.yml の構成
```yaml
version: '3.9'
services:
  app:
    build: .
    volumes:
      - .:/app
    ports:
      - "8080:8080"
```

# 📦 3. イメージの基本操作

- イメージプル（Docker Hubなどから取得）：
  ```bash
  docker pull ubuntu:22.04
  ```

- イメージビルド：
  ```bash
  docker build -t myimage:latest .
  ```

- イメージ一覧表示：
  ```bash
  docker images
  ```

- イメージ削除：
  ```bash
  docker rmi myimage
  ```

# 🚢 4. コンテナの基本操作

- コンテナ生成＆起動：
  ```bash
  docker run -it --name mycontainer ubuntu
  ```

- GPUを使う場合（NVIDIA環境）：
  ```bash
  docker run --gpus all --name gpu_container nvidia/cuda:12.2.0-base
  ```

- バックグラウンド起動（-d）とネットワーク指定：
  ```bash
  docker run -d --network host --name net_container nginx
  ```

- コンテナ一覧：
  ```bash
  docker ps -a
  ```

- 起動 / 停止 / 再起動 / 削除：
  ```bash
  docker start mycontainer
  docker stop mycontainer
  docker restart mycontainer
  docker rm mycontainer
  ```

- 接続（中に入る）：
  ```bash
  docker exec -it mycontainer bash
  ```

- 名前変更：
  ```bash
  docker rename oldname newname
  ```

- ファイル転送：
  ```bash
  docker cp local.txt mycontainer:/app/
  docker cp mycontainer:/app/output.txt .
  ```

# 🧑‍💻 5. VS Codeでのコンテナ開発

- 拡張機能「Remote - Containers」インストール
- `.devcontainer` フォルダ作成
- 起動: `F1 → Remote-Containers: Open Folder in Container`

# 🔧 6. Git/GitHub連携と開発環境構築

- Git/ghのインストール：
  ```bash
  sudo apt install git gh
  gh auth login
  ```

# 🏷 7. イメージのタグ操作と保存・読み込み

- タグ設定：
  ```bash
  docker tag myimage:latest myimage:v1.0
  ```

- コンテナ → イメージ化：
  ```bash
  docker commit mycontainer myimage:custom
  ```

- イメージ → tarファイル保存：
  ```bash
  docker save -o myimage.tar myimage
  ```

- tarファイル → イメージ読込：
  ```bash
  docker load -i myimage.tar
  ```

# ☁️ 8. Docker Hub連携

- ログイン：
  ```bash
  docker login
  ```

- アップロード：
  ```bash
  docker tag myimage username/myimage
  docker push username/myimage
  ```

- ログアウト：
  ```bash
  docker logout
  ```

# ✅ まとめ

Dockerを用いた開発は、環境構築を自動化し、再現性のある開発を可能にします。  
まずは初級編の操作に慣れ、必要に応じて応用編の内容に進んでいきましょう。
